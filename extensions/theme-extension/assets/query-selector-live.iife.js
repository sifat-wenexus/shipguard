var QuerySelectorLive=function(r){"use strict";var c=Object.defineProperty;var h=(r,s,i)=>s in r?c(r,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[s]=i;var n=(r,s,i)=>(h(r,typeof s!="symbol"?s+"":s,i),i);class s{constructor(e,o=new Set([document.documentElement])){n(this,"listeners",new Set);n(this,"elements",new Set);n(this,"observer",null);this.selector=e,this.roots=o}setup(){if(!this.observer){this.observer=new MutationObserver(()=>this.reconcile());for(const e of this.roots)this.observer.observe(e,{childList:!0,subtree:!0});this.reconcile()}}reconcile(){const e=new Set(Array.from(this.roots).map(t=>t.querySelectorAll(this.selector)).flatMap(t=>Array.from(t))),o=new Set,l=new Set;for(const t of e)this.elements.has(t)||l.add(t);for(const t of this.elements)e.has(t)||o.add(t);if(l.size>0||o.size>0){this.elements.clear();for(const t of e)this.elements.add(t);for(const t of this.listeners)t(this.elements)}}addListener(e){this.listeners.add(e),this.listeners.size===1&&this.setup()}removeListener(e){this.listeners.delete(e),this.listeners.size===0&&this.destroy()}destroy(){var e;this.listeners.clear(),(e=this.observer)==null||e.disconnect()}}return window.WeNexusQuerySelectorLive=s,r.QuerySelectorLive=s,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),r}({});
