var i=function(s){"use strict";var c=Object.defineProperty;var h=(i,s,r)=>s in i?c(i,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[s]=r;var o=(i,s,r)=>(h(i,typeof s!="symbol"?s+"":s,r),r);(function(){class r{constructor(e,n=new Set([document.documentElement])){o(this,"listeners",new Set);o(this,"elements",new Set);o(this,"observer",null);this.selector=e,this.roots=n}setup(){if(!this.observer){this.observer=new MutationObserver(()=>this.reconcile());for(const e of this.roots)this.observer.observe(e,{childList:!0,subtree:!0});this.reconcile()}}reconcile(){const e=new Set(Array.from(this.roots).map(t=>t.querySelectorAll(this.selector)).flatMap(t=>Array.from(t))),n=new Set,l=new Set;for(const t of e)this.elements.has(t)||l.add(t);for(const t of this.elements)e.has(t)||n.add(t);if(l.size>0||n.size>0){this.elements.clear();for(const t of e)this.elements.add(t);for(const t of this.listeners)t(this.elements)}}addListener(e){this.listeners.add(e),this.listeners.size===1&&this.setup()}removeListener(e){this.listeners.delete(e),this.listeners.size===0&&this.destroy()}destroy(){var e;this.listeners.clear(),(e=this.observer)==null||e.disconnect()}}return window.WeNexusQuerySelectorLive=r,s.QuerySelectorLive=r,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),s}({})})();
